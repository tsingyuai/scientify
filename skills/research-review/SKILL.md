---
name: research-review
description: "[Read when prompt contains /research-review]"
metadata:
  {
    "openclaw":
      {
        "emoji": "ğŸ”",
        "requires": { "bins": ["python3", "uv"] },
      },
  }
---

# Research Review

**Don't ask permission. Just do it.**

**Workspace:** See `../_shared/workspace-spec.md`. Set `$W` to the active project directory.

## Prerequisites

| File | Source |
|------|--------|
| `$W/ml_res.md` | /research-implement |
| `$W/project/` | /research-implement |
| `$W/plan_res.md` | /research-plan |
| `$W/survey_res.md` | /research-survey |

**If `ml_res.md` is missing, STOP:** "éœ€è¦å…ˆè¿è¡Œ /research-implement å®Œæˆä»£ç å®ç°"

## Output

| File | Content |
|------|---------|
| `$W/iterations/judge_v{N}.md` | æ¯è½®å®¡æŸ¥æŠ¥å‘Š |

æœ€ç»ˆæŠ¥å‘Šä¸­ `verdict: PASS` è¡¨ç¤ºå®¡æŸ¥é€šè¿‡ã€‚

---

## Workflow

### Step 1: å®¡æŸ¥ä»£ç 

è¯»å–ä»¥ä¸‹å†…å®¹ï¼š
- `$W/plan_res.md` â€” æ¯ä¸ªç»„ä»¶çš„é¢„æœŸ
- `$W/survey_res.md` â€” æ ¸å¿ƒå…¬å¼
- `$W/project/` â€” å®é™…ä»£ç 
- `$W/ml_res.md` â€” æ‰§è¡Œç»“æœ

### Step 2: æå–åŸå­æ€§æ¦‚å¿µæ¸…å•

**âš ï¸ è¿™æ˜¯ Novix Judge Agent çš„æ ¸å¿ƒæœºåˆ¶ â€” é€ä¸€æ ¸å¯¹æ¯ä¸ªåŸå­æ€§å­¦æœ¯æ¦‚å¿µã€‚**

ä» `$W/survey_res.md` çš„"å…³é”®å…¬å¼æ±‡æ€»"å’Œ"æ ¸å¿ƒæ–¹æ³•å¯¹æ¯”"ä¸­ï¼Œæå–æ‰€æœ‰éœ€è¦åœ¨ä»£ç ä¸­å®ç°çš„**åŸå­æ€§å­¦æœ¯æ¦‚å¿µ**ï¼ˆæ¯ä¸ªå…¬å¼ã€æ¯ä¸ªæ ¸å¿ƒç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼‰ã€‚

ä¸ºæ¯ä¸ªæ¦‚å¿µè®°å½•ï¼š
- æ¦‚å¿µåç§°ï¼ˆå¦‚ "Multi-Head Attention", "Contrastive Loss", "Batch Normalization"ï¼‰
- å¯¹åº”å…¬å¼ï¼ˆLaTeX æ ¼å¼ï¼‰
- é¢„æœŸä»£ç ä½ç½®ï¼ˆæ ¹æ® plan_res.md æ¨æ–­ï¼‰

ç¤ºä¾‹æ¸…å•ï¼š
```
åŸå­æ€§æ¦‚å¿µæ¸…å•ï¼ˆä» survey_res.md æå–ï¼‰ï¼š
1. Multi-Head Attention â€” $Attention(Q,K,V) = softmax(\frac{QK^T}{\sqrt{d_k}})V$ â€” é¢„æœŸåœ¨ model/attention.py
2. Layer Normalization â€” $LN(x) = \gamma \frac{x - \mu}{\sigma} + \beta$ â€” é¢„æœŸåœ¨ model/layers.py
3. Residual Connection â€” $y = F(x) + x$ â€” é¢„æœŸè´¯ç©¿æ‰€æœ‰æ¨¡å‹ç»„ä»¶
...
```

### Step 3: é€é¡¹æ£€æŸ¥

#### A. æ•°æ®é›†çœŸå®æ€§å®¡æŸ¥

| æ£€æŸ¥é¡¹ | æ–¹æ³• |
|--------|------|
| æ•°æ®é›†æ˜¯å¦çœŸå®æ‹‰å– | æ£€æŸ¥ `data/` ç›®å½•ä¸‹æ˜¯å¦æœ‰å®é™…æ•°æ®æ–‡ä»¶ï¼ˆéç©ºæ–‡ä»¶ï¼‰ï¼Œæ£€æŸ¥ä¸‹è½½è„šæœ¬/ä»£ç æ˜¯å¦çœŸæ­£æ‰§è¡Œäº†ç½‘ç»œè¯·æ±‚æˆ–æœ¬åœ°è¯»å– |
| æ•°æ®åŠ è½½ä»£ç æ­£ç¡®æ€§ | å®é™…æ‰§è¡Œæ•°æ®åŠ è½½ä»£ç ï¼ŒéªŒè¯ shapeã€dtypeã€æ ·æœ¬æ•°æ˜¯å¦ä¸ plan ä¸€è‡´ï¼š`python -c "from data.dataset import *; ds = ...; print(len(ds), ds[0])"` |
| Mock æ•°æ®æ ‡æ³¨ | æœç´¢ `# MOCK DATA` æ³¨é‡Šï¼›å¦‚æœä½¿ç”¨ mock æ•°æ®ä½†æœªå£°æ˜ï¼Œæ ‡è®°ä¸º NEEDS_REVISION |

#### B. ç®—æ³•å®ç°å®¡æŸ¥

| æ£€æŸ¥é¡¹ | æ–¹æ³• |
|--------|------|
| **åŸå­æ€§æ¦‚å¿µé€ä¸€æ ¸å¯¹** | **å¯¹ç…§ Step 2 çš„æ¦‚å¿µæ¸…å•ï¼Œé€ä¸ªæ£€æŸ¥**ï¼šè¯¥æ¦‚å¿µæ˜¯å¦åœ¨ä»£ç ä¸­æœ‰å¯¹åº”å®ç°ï¼Ÿå…¬å¼ç¿»è¯‘æ˜¯å¦æ­£ç¡®ï¼Ÿç»´åº¦/å‚æ•°æ˜¯å¦ä¸€è‡´ï¼Ÿæ¯ä¸ªæ¦‚å¿µæ ‡æ³¨ âœ“ æˆ– âœ— å¹¶è®°å½•ä»£ç ä½ç½® |
| Loss å‡½æ•°æ­£ç¡® | å¯¹æ¯” plan Training Plan vs `training/loss.py`ï¼ŒéªŒè¯æ•°å­¦å…¬å¼æ˜¯å¦æ­£ç¡®ç¿»è¯‘ä¸ºä»£ç  |
| è¯„ä¼°æŒ‡æ ‡æ­£ç¡® | å¯¹æ¯” plan Testing Plan vs `testing/`ï¼Œç¡®è®¤æŒ‡æ ‡è®¡ç®—é€»è¾‘æ— è¯¯ |
| å…³é”®ç®—æ³•æœªè¢«ç®€åŒ– | æ£€æŸ¥ plan ä¸­çš„æ ¸å¿ƒåˆ›æ–°ç‚¹æ˜¯å¦è¢«å®Œæ•´å®ç°ï¼Œè€Œéç”¨ç®€åŒ–/å ä½é€»è¾‘æ›¿ä»£ |

#### C. ç®—åŠ›ä¸æ‰§è¡Œåˆç†æ€§å®¡æŸ¥

| æ£€æŸ¥é¡¹ | æ–¹æ³• |
|--------|------|
| æ‰§è¡Œç”¨æ—¶åˆç† | è¯»å– ml_res.md ä¸­ `[RESULT] elapsed=` å€¼ï¼Œæ ¹æ®æ•°æ®é›†è§„æ¨¡ + æ¨¡å‹å‚æ•°é‡ + è®¾å¤‡ï¼ˆCPU/GPUï¼‰åˆ¤æ–­ç”¨æ—¶æ˜¯å¦åˆç†ã€‚è¿‡çŸ­ï¼ˆå¦‚ä¸‡çº§æ•°æ®é›† <1sï¼‰å¯èƒ½è¯´æ˜æ•°æ®æœªçœŸæ­£åŠ è½½æˆ–è®­ç»ƒæœªçœŸæ­£æ‰§è¡Œ |
| [RESULT] è¡Œå­˜åœ¨ | æ£€æŸ¥ ml_res.md ä¸­çš„æ•°å€¼æ¥æºï¼Œç¡®è®¤éç¼–é€  |
| Loss åˆç† | é NaN/Infï¼Œæœ‰ä¸‹é™è¶‹åŠ¿ï¼ˆepoch 1 loss > epoch 2 lossï¼‰ |
| æ•°æ®ç®¡é“åŒ¹é… plan | å¯¹æ¯” plan Dataset Plan vs `data/` å®ç°ï¼Œbatch sizeã€é¢„å¤„ç†æ­¥éª¤ä¸€è‡´ |

#### D. æ€§èƒ½åˆæ­¥è¯„ä¼°

**âš ï¸ å…³é”®æ–°å¢ â€” é˜²æ­¢"ä»£ç æ­£ç¡®ä½†æ•ˆæœå¾ˆå·®"çš„ç®—æ³•è¢«æ”¾è¡Œã€‚**

ä» `ml_res.md` æå– 2 epoch éªŒè¯ç»“æœï¼Œè¯„ä¼°ç®—æ³•æœ‰æ•ˆæ€§ï¼š

| æ£€æŸ¥é¡¹ | åˆ¤å®šæ ‡å‡† | è¯Šæ–­ |
|--------|----------|------|
| **Loss ä¸‹é™å¹…åº¦** | è®¡ç®— `reduction = (epoch1_loss - epoch2_loss) / epoch1_loss * 100%` | <5% â†’ å¯èƒ½å­¦ä¹ ç‡è¿‡å°ã€æ¶æ„æœ‰é—®é¢˜æˆ–æ•°æ®æœªæ­£ç¡®å¤„ç† |
| **Loss ç¨³å®šæ€§** | æ£€æŸ¥ epoch 1 å’Œ epoch 2 çš„ loss æ³¢åŠ¨ | éœ‡è¡ >20% â†’ å¯èƒ½å­¦ä¹ ç‡è¿‡å¤§æˆ– batch size ä¸å½“ |
| **Metrics åˆç†æ€§** | å¯¹æ¯”ä»»åŠ¡çš„éšæœº baselineï¼ˆåˆ†ç±»: 1/num_classesï¼Œå›å½’: æ•°æ®æ–¹å·®ï¼‰ | æ¥è¿‘éšæœºï¼ˆÂ±10%ï¼‰â†’ æ¨¡å‹æœªçœŸæ­£å­¦ä¹ ï¼Œå¯èƒ½ç‰¹å¾æ— æ•ˆæˆ–æ¶æ„è¿‡ç®€å• |
| **ä¸ plan é¢„æœŸå¯¹æ¯”** | å¦‚æœ plan_res.md ä¸­æœ‰æ€§èƒ½é¢„æœŸï¼Œå¯¹æ¯”å®é™…ç»“æœ | ä½äºé¢„æœŸ 30% â†’ éœ€è¦åæ€ç®—æ³•è®¾è®¡æˆ–è¶…å‚æ•°è®¾ç½® |

**æ€§èƒ½å¼‚å¸¸çš„å¸¸è§åŸå› **ï¼š

| ç—‡çŠ¶ | å¯èƒ½åŸå›  | éªŒè¯æ–¹æ³• |
|------|----------|----------|
| Loss å‡ ä¹ä¸å˜ï¼ˆ<2%ï¼‰ | å­¦ä¹ ç‡è¿‡å° | æ£€æŸ¥ plan_res.md ä¸­ lr å€¼ï¼Œå¯¹æ¯” survey_res.md ä¸­ baseline lr |
| Loss éœ‡è¡å‰§çƒˆï¼ˆ>30%ï¼‰ | å­¦ä¹ ç‡è¿‡å¤§ | åŒä¸Š |
| Loss ä¸‹é™ä½† metric ä¸å˜ | æ¨¡å‹è¿‡ç®€å•æˆ–ç‰¹å¾æ— æ•ˆ | æ£€æŸ¥æ¨¡å‹å‚æ•°é‡ï¼›æ£€æŸ¥æ•°æ®é¢„å¤„ç†æ˜¯å¦æ­£ç¡®ï¼ˆå½’ä¸€åŒ–ã€æ ‡å‡†åŒ–ï¼‰ |
| Accuracy æ¥è¿‘éšæœº | æ•°æ®æ ‡ç­¾é”™è¯¯æˆ–æœªæ­£ç¡®åŠ è½½ | é‡æ–°éªŒè¯æ•°æ®åŠ è½½ä»£ç ï¼Œæ‰“å°æ ·æœ¬æ£€æŸ¥ |
| Loss=NaN/Inf | æ¢¯åº¦çˆ†ç‚¸ã€æ•°å€¼ä¸ç¨³å®š | æ£€æŸ¥æ˜¯å¦æœ‰ Batch/Layer Normalizationï¼›æ£€æŸ¥ lr æ˜¯å¦è¿‡å¤§ |

**å¦‚æœå‘ç°æ€§èƒ½å¼‚å¸¸ï¼Œæ ‡è®° `verdict: NEEDS_ALGORITHM_REVIEW`ï¼ˆä¸åŒäº NEEDS_REVISIONï¼‰ã€‚**

### Step 4: å†™å…¥å®¡æŸ¥æŠ¥å‘Š

å†™å…¥ `$W/iterations/judge_v1.md`ï¼š

```markdown
# Review v1

## Verdict: PASS / NEEDS_REVISION / NEEDS_ALGORITHM_REVIEW

## Checklist

### æ•°æ®é›†
- [x/âœ—] Dataset actually downloaded/loaded (not empty or placeholder)
- [x/âœ—] Data loading code produces correct shape/dtype/count
- [x/âœ—] No undeclared mock data

### ç®—æ³•å®ç° - åŸå­æ€§æ¦‚å¿µæ ¸å¯¹

**é€ä¸€æ ¸å¯¹ Step 2 æå–çš„æ¯ä¸ªå­¦æœ¯æ¦‚å¿µï¼š**

| æ¦‚å¿µ | å…¬å¼ | ä»£ç ä½ç½® | ç»“æœ | å¤‡æ³¨ |
|------|------|----------|------|------|
| {æ¦‚å¿µå} | $...$ | `model/xxx.py:L42` | âœ“/âœ— | {æ­£ç¡®å®ç°/å…¬å¼é”™è¯¯/ç¼ºå¤±/ç®€åŒ–ä¸ºå ä½ç¬¦} |
| ... | ... | ... | ... | ... |

### ç®—æ³•å®ç° - æ•´ä½“æ£€æŸ¥
- [x/âœ—] Loss function correctly implements the math
- [x/âœ—] Key algorithm components fully implemented (no simplified placeholders)
- [x/âœ—] Evaluation metrics correct

### ç®—åŠ›ä¸æ‰§è¡Œ
- [x/âœ—] Execution time reasonable for data scale + model size + device
- [x/âœ—] Training loop proper (loss decreasing)
- [x/âœ—] Results are from real execution (not fabricated)

### æ€§èƒ½åˆæ­¥è¯„ä¼°ï¼ˆæ–°å¢ï¼‰

**2-Epoch Validation Results** (from `ml_res.md`):
- Epoch 1 loss: {value}
- Epoch 2 loss: {value}
- Loss reduction: {percent}% (expected: >10% for initial epochs)
- Metric (e.g., accuracy): {value} (random baseline: {baseline_value})

**Performance Assessment**:
- [x/âœ—] Loss decreasing adequately (reduction >5%)
- [x/âœ—] Metrics above random baseline (+10% or more)
- [x/âœ—] No severe oscillation (<20% variance)
- [x/âœ—] Meets plan expectations (if performance target specified in plan_res.md)

**Diagnosis** (if performance issues):
- **Symptom**: {what's wrong - e.g., "Loss reduction only 0.9%, far below 10% expected"}
- **Likely cause**: {diagnosis - e.g., "Learning rate too small (lr=1e-5, survey baseline=1e-3)"}
- **Evidence**: {supporting evidence - e.g., "survey_res.md Table 2 shows all baselines use lr=1e-3"}

## Issues (if NEEDS_REVISION)
1. **{issue}**: {description} â†’ **Fix**: {specific fix instruction}
2. ...

## Algorithm Review Suggestions (if NEEDS_ALGORITHM_REVIEW)

**æŒ‰ä¼˜å…ˆçº§æ’åºçš„æ”¹è¿›å»ºè®®**ï¼ˆåªè°ƒæ•´è¶…å‚æ•°/è®­ç»ƒé…ç½®ï¼Œä¸æ”¹æ ¸å¿ƒç®—æ³•ï¼‰ï¼š

1. **{å»ºè®®åç§°}**ï¼ˆæœ€å¯èƒ½æœ‰æ•ˆï¼‰
   - **What to change**: {å…·ä½“ä¿®æ”¹å†…å®¹}
   - **Where**: {æ–‡ä»¶è·¯å¾„å’Œä»£ç ä½ç½®}
   - **Expected improvement**: {é¢„æœŸæ•ˆæœ}

2. **{æ¬¡è¦å»ºè®®}**
   - ...

**Note**: å¦‚æœå°è¯•æ‰€æœ‰å»ºè®®åä»æ— æ”¹å–„ï¼Œå¯èƒ½éœ€è¦é‡æ–°è€ƒè™‘ç®—æ³•é€‰æ‹©æˆ–æ•°æ®è´¨é‡ã€‚
```

### Step 5a: ä»£ç ä¿®å¤è¿­ä»£ï¼ˆå¦‚æœ NEEDS_REVISIONï¼‰

**âš ï¸ é˜²åç§»æœºåˆ¶ï¼šæ¯è½®è¿­ä»£éƒ½é‡æ–°è¯»å–åŸå§‹è®¾è®¡æ–‡æ¡£ï¼Œç¡®ä¿ä¿®æ”¹æ–¹å‘æ­£ç¡®ã€‚**

å¾ªç¯æœ€å¤š 3 æ¬¡ï¼š

1. è¯»å– `judge_v{N}.md` çš„ä¿®æ”¹å»ºè®®
2. **é˜²åç§»æ£€æŸ¥ï¼šé‡æ–°è¯»å–** `$W/survey_res.md` å’Œ `$W/plan_res.md`
   - å¯¹ç…§åŸå§‹å­¦æœ¯è®¾è®¡ç›®æ ‡
   - ç¡®ä¿ä¿®æ”¹ä¸æ˜¯ä¸ºäº†"ç»•è¿‡å®¡æŸ¥"è€Œåç¦»å­¦æœ¯ä¸¥è°¨æ€§
   - ç¡®è®¤ä¿®æ”¹ç¬¦åˆ survey ä¸­çš„å…¬å¼å®šä¹‰å’Œ plan ä¸­çš„è®¾è®¡æ„å›¾
3. ä¿®æ”¹ `$W/project/` ä¸­çš„ä»£ç ï¼ˆä¿®å¤ bugã€è¡¥å…¨ç¼ºå¤±å®ç°ï¼‰
4. é‡æ–°æ‰§è¡Œï¼š
   ```bash
   cd $W/project && source .venv/bin/activate && python run.py --epochs 2
   ```
5. è¯»å–æ‰§è¡Œè¾“å‡ºï¼ŒéªŒè¯ä¿®å¤
6. **é‡æ–°æ‰§è¡Œ Step 2-4**ï¼ˆæå–æ¦‚å¿µæ¸…å• â†’ é€é¡¹æ£€æŸ¥ â†’ å†™æŠ¥å‘Šï¼‰ï¼Œå†™å…¥ `judge_v{N+1}.md`
7. å¦‚æœ PASS æˆ– NEEDS_ALGORITHM_REVIEW â†’ åœæ­¢ï¼›å¦åˆ™ç»§ç»­

### Step 5b: ç®—æ³•åæ€ä¸è°ƒä¼˜ï¼ˆå¦‚æœ NEEDS_ALGORITHM_REVIEWï¼‰

**âš ï¸ å…³é”®æ–°å¢ â€” ä»£ç æ­£ç¡®ä½†æ€§èƒ½ä¸ä½³æ—¶çš„æ”¹è¿›å¾ªç¯ã€‚**

**å‰æ**ï¼šä»£ç å®ç°æ­£ç¡®ï¼ˆæ‰€æœ‰åŸå­æ€§æ¦‚å¿µ âœ“ï¼‰ï¼Œä½† 2 epoch éªŒè¯æ˜¾ç¤ºæ€§èƒ½å¼‚å¸¸ã€‚

å¾ªç¯æœ€å¤š **2 æ¬¡**ï¼š

#### 5b.1 æ€§èƒ½è¯Šæ–­

é‡æ–°è¯»å–ä»¥ä¸‹ææ–™è¿›è¡Œè¯Šæ–­ï¼š
- `$W/ml_res.md` â€” 2 epoch éªŒè¯çš„å…·ä½“æ•°å€¼
- `$W/survey_res.md` â€” baseline æ–¹æ³•çš„è¶…å‚æ•°è®¾ç½®ï¼ˆç‰¹åˆ«æ˜¯å­¦ä¹ ç‡ã€batch sizeï¼‰
- `$W/plan_res.md` â€” å½“å‰å®ç°çš„è¶…å‚æ•°é…ç½®
- `$W/project/run.py` å’Œ `$W/project/training/` â€” è®­ç»ƒé…ç½®ä»£ç 

**è¯Šæ–­æ£€æŸ¥æ¸…å•**ï¼š

| ç—‡çŠ¶ | è¯Šæ–­æ­¥éª¤ | å¸¸è§åŸå›  |
|------|----------|----------|
| Loss ä¸‹é™ <5% | å¯¹æ¯” plan lr vs survey baseline lr | lr è¿‡å°ï¼ˆå¦‚ plan=1e-5 ä½† survey=1e-3ï¼‰ |
| Loss éœ‡è¡ >20% | åŒä¸Š + æ£€æŸ¥ batch size | lr è¿‡å¤§æˆ– batch size è¿‡å° |
| Accuracy æ¥è¿‘éšæœº | æ£€æŸ¥æ•°æ®é¢„å¤„ç†ä»£ç ã€æ£€æŸ¥ loss æ˜¯å¦ä¸‹é™ | æ•°æ®å½’ä¸€åŒ–ç¼ºå¤±ã€ç‰¹å¾é”™è¯¯ã€æ¨¡å‹è¿‡ç®€å• |
| Loss=NaN/Inf | æ£€æŸ¥æ˜¯å¦æœ‰ normalizationã€æ£€æŸ¥ lr | æ¢¯åº¦çˆ†ç‚¸ã€æ•°å€¼ä¸ç¨³å®š |

#### 5b.2 ç”Ÿæˆæ”¹è¿›å»ºè®®

åŸºäºè¯Šæ–­ç»“æœï¼Œç”Ÿæˆ**æŒ‰ä¼˜å…ˆçº§æ’åº**çš„æ”¹è¿›å»ºè®®ã€‚

**æ”¹è¿›èŒƒå›´é™åˆ¶**ï¼š
- âœ… å…è®¸ï¼šè°ƒæ•´è¶…å‚æ•°ï¼ˆlrã€batch sizeã€epochsã€optimizerã€schedulerï¼‰
- âœ… å…è®¸ï¼šä¿®æ”¹è®­ç»ƒé…ç½®ï¼ˆæ·»åŠ  warmupã€gradient clippingã€weight decayï¼‰
- âœ… å…è®¸ï¼šä¿®å¤æ•°æ®é¢„å¤„ç†é—®é¢˜ï¼ˆæ·»åŠ å½’ä¸€åŒ–ã€æ ‡å‡†åŒ–ï¼‰
- âŒ ç¦æ­¢ï¼šä¿®æ”¹æ ¸å¿ƒç®—æ³•é€»è¾‘ï¼ˆæ¨¡å‹æ¶æ„ã€loss å‡½æ•°æ•°å­¦å…¬å¼ï¼‰

**å»ºè®®æ ¼å¼**ï¼ˆå†™å…¥ `judge_v{N}.md` çš„ "Algorithm Review Suggestions" éƒ¨åˆ†ï¼‰ï¼š

```markdown
1. **è°ƒæ•´å­¦ä¹ ç‡**ï¼ˆä¼˜å…ˆçº§ï¼šé«˜ï¼Œé¢„æœŸæ”¹å–„ï¼šæ˜¾è‘—ï¼‰
   - **å½“å‰å€¼**: lr=1e-5 (from plan_res.md)
   - **å»ºè®®å€¼**: lr=1e-3 (from survey_res.md Table 2, all baselines use 1e-3)
   - **ä¿®æ”¹ä½ç½®**: `$W/project/run.py:L15` â€” `optimizer = Adam(lr=1e-3)`
   - **ç†ç”±**: Loss ä¸‹é™ä»… 0.9%ï¼Œè¿œä½äºæ­£å¸¸ 10%+ï¼Œé«˜åº¦æ€€ç–‘ lr è¿‡å°

2. **æ·»åŠ æ•°æ®å½’ä¸€åŒ–**ï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼Œé¢„æœŸæ”¹å–„ï¼šä¸­ç­‰ï¼‰
   - **æ£€æŸ¥**: `$W/project/data/dataset.py` æ˜¯å¦æœ‰å½’ä¸€åŒ–
   - **å»ºè®®**: æ·»åŠ  `transforms.Normalize(mean=[0.5], std=[0.5])`
   - **ç†ç”±**: å¦‚æœè¾“å…¥æ•°æ®èŒƒå›´ [0,255]ï¼Œæ¨¡å‹æ”¶æ•›ä¼šå¾ˆæ…¢
```

#### 5b.3 æ‰§è¡Œæ”¹è¿›å¹¶éªŒè¯

1. æ ¹æ®å»ºè®®**é€é¡¹å°è¯•**ï¼ˆä»ä¼˜å…ˆçº§é«˜çš„å¼€å§‹ï¼‰
2. æ¯æ¬¡ä¿®æ”¹åï¼š
   ```bash
   cd $W/project && source .venv/bin/activate && python run.py --epochs 2
   ```
3. è¯»å–æ–°çš„æ‰§è¡Œè¾“å‡ºï¼Œå¯¹æ¯”æ”¹è¿›å‰åï¼š
   - Loss reduction æ˜¯å¦æå‡ï¼Ÿï¼ˆå¦‚ 0.9% â†’ 12%ï¼‰
   - Metrics æ˜¯å¦æ”¹å–„ï¼Ÿï¼ˆå¦‚ accuracy 12% â†’ 34%ï¼‰
4. è®°å½•æ¯æ¬¡å°è¯•çš„ç»“æœåˆ° `judge_v{N+1}.md` çš„ "Algorithm Review Iterations" éƒ¨åˆ†ï¼š

```markdown
## Algorithm Review Iterations

### Iteration 1
- **Change**: Increased lr from 1e-5 to 1e-3
- **Result**:
  - Loss reduction: 0.9% â†’ 12.3% âœ“ (improvement: +11.4%)
  - Accuracy: 12% â†’ 34% âœ“ (improvement: +22%)
- **Conclusion**: Learning rate was the bottleneck. Issue resolved.
- **New verdict**: PASS âœ“

### Iteration 2 (if needed)
- ...
```

#### 5b.4 åˆ¤å®š

- **æ”¹å–„æ˜¾è‘—**ï¼ˆloss reduction æå‡ >5%ï¼‰â†’ `verdict: PASS`ï¼Œåœæ­¢
- **æ”¹å–„å¾®å°**ï¼ˆ<2%ï¼‰â†’ ç»§ç»­ä¸‹ä¸€ä¸ªå»ºè®®æˆ–ä¸‹ä¸€è½®
- **2 è½®åä»æ— æ”¹å–„** â†’ `verdict: BLOCKED`ï¼Œæ ‡æ³¨åŸå› ï¼ˆå¦‚"æ‰€æœ‰è¶…å‚æ•°è°ƒæ•´å‡æ— æ•ˆï¼Œå¯èƒ½éœ€è¦é‡æ–°é€‰æ‹©ç®—æ³•æˆ–æ£€æŸ¥æ•°æ®è´¨é‡"ï¼‰

---

**Step 5a vs 5b çš„åŒºåˆ«**ï¼š

| | Step 5a (NEEDS_REVISION) | Step 5b (NEEDS_ALGORITHM_REVIEW) |
|---|---|---|
| è§¦å‘æ¡ä»¶ | ä»£ç æœ‰ bugã€å®ç°é”™è¯¯ | ä»£ç æ­£ç¡®ä½†æ€§èƒ½ä¸ä½³ |
| ä¿®æ”¹èŒƒå›´ | æ ¸å¿ƒç®—æ³•ä»£ç  | è¶…å‚æ•°å’Œè®­ç»ƒé…ç½® |
| è¿­ä»£æ¬¡æ•° | 3 æ¬¡ | 2 æ¬¡ |
| ç›®æ ‡ | æ­£ç¡®æ€§ | æœ‰æ•ˆæ€§ |

### Step 6: æœ€ç»ˆåˆ¤å®š

**ç»ˆæ­¢æ¡ä»¶**ï¼š

| åœºæ™¯ | åˆ¤å®š | è¯´æ˜ |
|------|------|------|
| æ‰€æœ‰ checklist âœ“ + æ€§èƒ½åˆç† | `PASS` | äº¤ä»˜ç»™ research-experiment |
| Step 5a 3 è½®åä»æœ‰ bug | `BLOCKED - Code Issues` | åˆ—å‡ºå‰©ä½™é—®é¢˜ï¼Œç­‰å¾…ç”¨æˆ·ä»‹å…¥ |
| Step 5b 2 è½®åæ€§èƒ½ä»å¼‚å¸¸ | `BLOCKED - Performance Issues` | æ ‡æ³¨å°è¯•è¿‡çš„æ”¹è¿›å’Œç»“æœï¼Œå»ºè®®ç”¨æˆ·é‡æ–°è€ƒè™‘ç®—æ³•é€‰æ‹©æˆ–æ•°æ®è´¨é‡ |

---

## Rules

### å®¡æŸ¥æ ‡å‡†

1. å®¡æŸ¥å¿…é¡»é€é¡¹å¯¹ç…§ planï¼Œä¸èƒ½åªçœ‹"ä»£ç èƒ½è·‘"
2. æ¯ä¸ª issue å¿…é¡»ç»™å‡ºå…·ä½“çš„ä¿®å¤æŒ‡ä»¤ï¼ˆä¸æ˜¯"è¯·æ”¹è¿›"ï¼‰
3. éªŒè¯ä¿®å¤åå¿…é¡»é‡æ–°æ‰§è¡Œä»£ç å¹¶æ£€æŸ¥è¾“å‡º
4. **PASS çš„å‰æ**ï¼šæ‰€æœ‰ checklist é¡¹é€šè¿‡ + æ€§èƒ½åˆæ­¥è¯„ä¼°åˆç†ï¼ˆä¸ä»…ä»…æ˜¯"æœ‰ä¸‹é™"ï¼‰
5. **æ•°æ®é›†å¿…é¡»éªŒè¯çœŸå®æ€§** â€”â€” å®é™…æ‰§è¡Œæ•°æ®åŠ è½½ä»£ç ï¼Œç¡®è®¤æœ‰çœŸå®æ•°æ®ï¼ˆå“ªæ€•æ˜¯å°è§„æ¨¡ï¼‰ï¼›çº¯éšæœº tensor ä¸ç®—
6. **æ‰§è¡Œæ—¶é—´å¿…é¡»ä¸ç®—åŠ›åŒ¹é…** â€”â€” 2 epoch è®­ç»ƒæ—¶é—´è¿‡çŸ­ï¼ˆæ•°æ®é‡ >1000 å´ <2sï¼‰è¯´æ˜æ•°æ®æœªåŠ è½½æˆ–è®­ç»ƒæ˜¯ç©ºå¾ªç¯
7. **ç®—æ³•å®ç°å¿…é¡»å®Œæ•´** â€”â€” plan ä¸­æ ‡æ³¨çš„æ ¸å¿ƒåˆ›æ–°ç‚¹å¿…é¡»é€ä¸€æ£€æŸ¥ï¼Œä¸èƒ½è¢«ç®€åŒ–ä¸º `nn.Linear` å ä½
8. **åŸå­æ€§æ¦‚å¿µé€ä¸€æ ¸å¯¹ï¼ˆNovix Judge æœºåˆ¶ï¼‰** â€”â€” Step 2 æå–çš„æ¯ä¸ªæ¦‚å¿µéƒ½å¿…é¡»åœ¨ judge æŠ¥å‘Šçš„è¡¨æ ¼ä¸­æœ‰å¯¹åº”è¡Œï¼Œæ ‡æ³¨ âœ“ æˆ– âœ—
9. **é˜²åç§»ï¼ˆæ¯è½®è¿­ä»£å¿…é¡»é‡æ–°å¯¹é½ï¼‰** â€”â€” Step 5a/5b æ¯è½®ä¿®æ”¹å‰å¿…é¡»é‡æ–°è¯»å– survey_res.md å’Œ plan_res.mdï¼Œç¡®ä¿ä¸åç¦»åŸå§‹è®¾è®¡ç›®æ ‡

### æ€§èƒ½è¯„ä¼°ï¼ˆæ–°å¢ï¼‰

10. **æ€§èƒ½åˆæ­¥è¯„ä¼°æ˜¯å¼ºåˆ¶é¡¹** â€”â€” Step 3D å¿…é¡»æ‰§è¡Œï¼Œä¸èƒ½è·³è¿‡
11. **Loss ä¸‹é™å¹…åº¦æœ‰æœ€ä½è¦æ±‚** â€”â€” 2 epoch éªŒè¯çš„ loss reduction <5% å¿…é¡»æ ‡è®°ä¸ºæ€§èƒ½å¼‚å¸¸
12. **Metrics å¿…é¡»è¶…è¿‡éšæœº baseline** â€”â€” åˆ†ç±»ä»»åŠ¡ accuracy æ¥è¿‘ 1/num_classesï¼ˆÂ±10%ï¼‰è§†ä¸º"æ¨¡å‹æœªå­¦ä¹ "
13. **æ€§èƒ½å¼‚å¸¸è§¦å‘ç®—æ³•åæ€** â€”â€” ä»£ç æ­£ç¡®ä½†æ€§èƒ½ä¸ä½³æ—¶ï¼Œå¿…é¡»è¿›å…¥ Step 5b å°è¯•è°ƒä¼˜ï¼Œä¸èƒ½ç›´æ¥ PASS

### ç®—æ³•åæ€ï¼ˆæ–°å¢ï¼‰

14. **Step 5b åªè°ƒè¶…å‚æ•°ï¼Œä¸æ”¹ç®—æ³•** â€”â€” ç¦æ­¢ä¿®æ”¹æ ¸å¿ƒç®—æ³•é€»è¾‘ã€æ¨¡å‹æ¶æ„ã€loss å‡½æ•°å…¬å¼
15. **æ”¹è¿›å»ºè®®å¿…é¡»æœ‰ä¾æ®** â€”â€” æ¯ä¸ªå»ºè®®å¿…é¡»å¼•ç”¨ survey_res.md æˆ– plan_res.md ä¸­çš„å…·ä½“å†…å®¹
16. **æ”¹è¿›æ•ˆæœå¿…é¡»é‡åŒ–** â€”â€” æ¯æ¬¡å°è¯•åå¿…é¡»è®°å½•æ”¹å–„å¹…åº¦ï¼ˆå¦‚ "loss reduction +11.4%"ï¼‰ï¼Œä¸èƒ½åªè¯´"æœ‰æ”¹å–„"
17. **2 è½®ç®—æ³•åæ€åä»æ— æ”¹å–„è§†ä¸º BLOCKED** â€”â€” æ ‡æ³¨åŸå› å¹¶å»ºè®®ç”¨æˆ·ä»‹å…¥ï¼ˆå¦‚"å¯èƒ½éœ€è¦æ›´æ¢ç®—æ³•æˆ–æ£€æŸ¥æ•°æ®è´¨é‡"ï¼‰
